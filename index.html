<!DOCTYPE html>

<head>
<title>Songlist</title>
<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
  crossorigin="anonymous"> 
</script>
</head>

<body>

<script>

  $.getJSON('songlist.json', data => {
    songshtml = "";
    genreshtml = "<option value='' selected disabled hidden>Genre</option>";
    genres = [];

    data.forEach(song => { 
      songshtml += song.title + "<br />";
      songshtml += song.artist + "<br />";
      songshtml += "Release Year: " + song.year + "<br />";
      songshtml += "Genres: ";
      song.genres.forEach((genre, index) =>  {
        if (!genres.includes(genre)) genres.push(genre);
        if (index + 1 == song.genres.length) songshtml += genre + "<br />";
        else songshtml += genre + ", ";
      })
      songshtml += "<br />"
    })

    genres.sort();
    genres.forEach(genre => {
      genreshtml += "<option value='" + genre + "'>" + genre + "</option>";
    })

    // add list of songs to "songs" div
    document.getElementById("songs").innerHTML = songshtml;

    // add genre options to select in form
    document.getElementById("genres").innerHTML = genreshtml;
  });

</script>

<form>
  <select id="genres"></select>
  <input type="button" id="submit" value="Filter">
</form>

<div id="songs"></div>

</body>
</html>